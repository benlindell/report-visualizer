!function t(e,r,s){function a(i,o){if(!r[i]){if(!e[i]){var p="function"==typeof require&&require;if(!o&&p)return p(i,!0);if(n)return n(i,!0);throw new Error("Cannot find module '"+i+"'")}var u=r[i]={exports:{}};e[i][0].call(u.exports,function(t){var r=e[i][1][t];return a(r?r:t)},u,u.exports,t,e,r,s)}return r[i].exports}for(var n="function"==typeof require&&require,i=0;i<s.length;i++)a(s[i]);return a}({1:[function(){},{}],2:[function(t,e){var r,s,a;r=t("react"),s=t("lodash"),a=r.DOM.rect,e.exports=r.createClass({displayName:"Bar",getDefaultProps:function(){return{width:0,height:0,availableHeight:0,offset:0,title:"",fill:"#ccc"}},render:function(){return a({width:this.props.width,height:this.props.height,x:s.isUndefined(this.props.x)?this.props.offset:this.props.x,y:s.isUndefined(this.props.y)?this.props.availableHeight-this.props.height:this.props.y,title:this.props.title,fill:this.props.fill},[])}})},{}],3:[function(t,e){var r,s;r=t("react"),s=r.DOM.svg,e.exports=r.createClass({displayName:"Chart",getDefaultProps:function(){return{width:0,height:0}},render:function(){return s({width:this.props.width,height:this.props.height,className:this.props.className},this.props.children)}})},{}],4:[function(t,e){e.exports=["#042d42","#0b84c2","#075075","#57bef2","#326e8c","#223d63","#5685c9"]},{}],5:[function(t,e){e.exports={Stacked:t("./stacked"),StackedBar:t("./stackedBar"),StackedBars:t("./stackedBars"),VerticalBars:t("./verticalBars"),PunchChart:t("./punchchart")}},{"./punchchart":6,"./stacked":7,"./stackedBar":8,"./stackedBars":9,"./verticalBars":11}],6:[function(t,e){var r,s,a,n,i,o,p,u,c,h,l;o=t("lodash"),s=t("react"),l=s.DOM,i=l.g,c=l.text,n=l.circle,u=l.rect,p=l.line,r=t("./chart"),a=t("./tooltip"),h=function(t,e,r){return null==e&&(e=o.identity),o(t).map(e).unique().sortBy(r).value()},e.exports=s.createClass({displayName:"PunchChart",propTypes:{width:s.PropTypes.number,height:s.PropTypes.number,padding:s.PropTypes.shape({t:s.PropTypes.number,r:s.PropTypes.number,b:s.PropTypes.number,l:s.PropTypes.number}),distribution:s.PropTypes.arrayOf(s.PropTypes.array).isRequired,xValues:s.PropTypes.array,yValues:s.PropTypes.array},getDefaultProps:function(){return{punchStyle:"dots",width:200,height:300,padding:{t:0,r:0,b:40,l:40}}},render:function(){var t,e,s,l,d,y,f,g,m,v,k,b,w,x,N,S,T,C;return w=this.props.xValues||h(this.props.distribution,function(t){var e,r,s;return r=t[0],s=t[1],e=t[2],r}),C=this.props.yValues||h(this.props.distribution,function(t){var e,r,s;return r=t[0],s=t[1],e=t[2],s}),e=o.min(this.props.distribution,function(t){var e,r,s;return r=t[0],s=t[1],e=t[2],e})[2],t=o.max(this.props.distribution,function(t){var e,r,s;return r=t[0],s=t[1],e=t[2],e})[2],f=this.props.padding,d={height:this.props.height-f.t-f.b,width:this.props.width-f.l-f.r},l=Math.floor(d.height/C.length),g=Math.floor(d.width/w.length),y=Math.floor(.9*Math.max(0,Math.min(l,g)/2)),T=function(t){return f.t+l*t},b=function(t){return f.l+g*t},m=p({key:"xAxis",x1:0,x2:this.props.width,y1:d.height+f.t,y2:d.height+f.t,transform:"translate(0.5,0.5)"}),x=p({key:"yAxis",x1:f.l,x2:f.l,y1:0,y2:this.props.height,transform:"translate(0.5,0.5)"}),S=C.map(function(t,e){return p({key:e,x1:f.l-5,y1:T(e+1)-l/2,x2:f.l+5,y2:T(e+1)-l/2})}),N=C.map(function(t,e){return null==t&&(t=""),c({key:e,x:f.l-10,y:T(e+1)-l/2+5},t)}),k=w.map(function(t){return function(e,r){return p({key:r,x1:b(r)+g/2,y1:t.props.height-f.b-5,x2:b(r)+g/2,y2:t.props.height-f.b+5})}}(this)),v=w.map(function(t){return function(e,r){return null==e&&(e=""),c({key:r,x:b(r)+g/2,y:t.props.height-f.b+20},e.replace(/^(\d*) /,""))}}(this)),s=this.props.distribution.map("bars"===this.props.punchStyle?function(r){var s,n,p,c,h,d,y;return h=r[0],y=r[1],s=r[2],s>0?(n=l-4,p=Math.max(2,Math.floor((g-4)*((s-e)/t))),c=g/2+b(o.indexOf(w,h)),d=n/2+T(o.indexOf(C,y)),i({key:""+h+"-"+y,className:"dot"},[u({key:"bar",height:n,width:p,x:c-Math.floor(p/2),y:d-.5,title:""+s}),a({key:"tip",x:c,y:d+n/2,label:""+s})])):void 0}:function(r){var s,p,u,c,h,d;return c=r[0],d=r[1],s=r[2],s>0?(p=Math.max(5,y*(s-e)/Math.max(1,t-e)),isNaN(p)&&(p=5),u=g/2+b(o.indexOf(w,c)),h=l/2+T(o.indexOf(C,d)),i({key:""+c+"-"+d,className:"dot"},[n({key:"dot",r:p,transform:"translate("+u+", "+h+")",title:""+s}),a({key:"tip",x:u,y:h-p,label:""+s})])):void 0}),r({width:this.props.width,height:this.props.height,className:"chart chart-punchchart"},[m,x,i({key:"labels-y",className:"labels-y"},N),i({key:"markers-y",className:"markers-y"},S),i({key:"labels-x",className:"labels-x"},v),i({key:"markers-x",className:"markers-x"},k),i({key:"values",className:"values"},s)])}})},{"./chart":3,"./tooltip":10}],7:[function(t,e){var r,s,a,n,i,o,p;i=t("lodash"),a=t("react"),p=a.DOM,n=p.g,o=p.text,s=t("../charts/chart"),r=t("../charts/bar"),e.exports=a.createClass({displayName:"StackedBar",propTypes:{width:a.PropTypes.number,height:a.PropTypes.number,fills:a.PropTypes.arrayOf(a.PropTypes.string),barOrder:a.PropTypes.func,distribution:a.PropTypes.object.isRequired},getDefaultProps:function(){return{width:200,height:300,fills:t("./colors"),barOrder:function(t){var e,r;return r=t[0],e=t[1],-1*e}}},render:function(){var t,e,s,a;return t=i(this.props.distribution).reduce(function(t,e){return t+e},0),s=function(t){return function(){var e;return e=0,function(){return e+=1,t.props.fills[e%t.props.fills.length]}}}(this)(),a=0,e=i(this.props.distribution).pairs().sortBy(this.props.barOrder).map(function(e){return function(i,p){var u,c,h,l,d;return d=i[0],l=i[1],c=e.props.height*(l/t),h=o({key:"label",x:5,y:a+15},d),u=r({key:"bar",width:e.props.width,height:c,title:d,fill:s(),y:a},[]),a+=c,n({key:p,className:0===l?"hidden":""},[u,h])}}(this)),n({className:"stacked-bar"},e.value())}})},{"../charts/bar":2,"../charts/chart":3,"./colors":4}],8:[function(t,e){var r,s,a;s=t("react"),r=t("../charts/chart"),a=t("../charts/stacked"),e.exports=s.createClass({displayName:"StackedBarChart",getDefaultProps:function(){return{width:200,height:300}},render:function(){return r({width:this.props.width,height:this.props.height,className:"chart chart-stacked chart-stacked-bar"},a(this.props,[]))}})},{"../charts/chart":3,"../charts/stacked":7}],9:[function(t,e){var r,s,a,n,i,o,p,u;i=t("lodash"),s=t("react"),u=s.DOM,o=u.line,n=u.g,p=u.text,r=t("../charts/chart"),a=t("../charts/stacked"),e.exports=s.createClass({displayName:"StackedBarsChart",propTypes:{width:s.PropTypes.number,height:s.PropTypes.number,padding:s.PropTypes.shape({t:s.PropTypes.number,r:s.PropTypes.number,b:s.PropTypes.number,l:s.PropTypes.number}),xValues:s.PropTypes.array,distribution:s.PropTypes.arrayOf(s.PropTypes.array).isRequired},getDefaultProps:function(){return{width:560,height:300,padding:{t:0,r:0,b:30,l:0}}},render:function(){var t,e,s,u,c,h,l,d,y;return y=this.props.xValues||i(this.props.distribution).map(function(t){var e,r;return r=t[0],e=t[1],r}).unique().sortBy().value(),s=this.props.padding,e={height:this.props.height-s.t-s.b,width:this.props.width-s.l-s.r},u=Math.floor(e.width/y.length),d=function(t){return s.l+u*t},c=o({key:"xAxis",x1:0,x2:this.props.width,y1:e.height+s.t,y2:e.height+s.t,transform:"translate(0.5,0.5)"}),l=i.map(y,function(t){return function(e,r){return o({key:r,x1:d(r)+u/2,y1:t.props.height-s.b-5,x2:d(r)+u/2,y2:t.props.height-s.b+5})}}(this)),h=i.map(y,function(t){return function(e,r){return null==e&&(e=""),p({key:r,x:d(r)+u/2,y:t.props.height-s.b+20},e.replace(/^(\d*) /,""))}}(this)),t=i.map(this.props.distribution,function(t,r){var s,i;return i=t[0],s=t[1],n({key:""+i,transform:"translate("+d(r)+",0)"},[a({key:"stack",width:u-10,height:e.height,distribution:s,barOrder:function(t){var e,r;return r=t[0],e=t[1],r}},[])])}),r({width:this.props.width,height:this.props.height,className:"chart chart-stacked chart-stacked-bars"},[c,n({key:"labels-x",className:"labels-x"},h),n({key:"markers-x",className:"markers-x"},l),t])}})},{"../charts/chart":3,"../charts/stacked":7}],10:[function(t,e){var r,s,a,n,i;r=t("react"),i=r.DOM,s=i.g,a=i.rect,n=i.text,e.exports=r.createClass({displayName:"Tooltip",propTypes:{x:r.PropTypes.number,y:r.PropTypes.number,label:r.PropTypes.string},getDefaultProps:function(){return{x:0,y:0,label:""}},render:function(){return s({className:"tooltip",transform:"translate("+this.props.x+","+this.props.y+")"},[a({key:"bg",className:"tooltip-bg",x:-13,y:-14,rx:5,ry:5,height:20,width:10+6*this.props.label.length+10}),n({key:"label",className:"tooltip-label",ref:"label",children:this.props.label})])}})},{}],11:[function(t,e){var r,s,a,n,i,o,p;i=t("lodash"),a=t("react"),p=a.DOM,n=p.div,o=p.p,s=t("../charts/chart"),r=t("../charts/bar"),e.exports=a.createClass({displayName:"VerticalBarChart",propTypes:{width:a.PropTypes.number,height:a.PropTypes.number,lineHeight:a.PropTypes.number},getDefaultProps:function(){return{width:500,height:300,lineHeight:5}},render:function(){var t,e;return e=i.max(this.props.distribution,i.identity),t=i(this.props.distribution).pairs().sortBy(function(t){var e,r;return r=t[0],e=t[1],-1*e}).map(function(t){return function(r){var s,a,i,p,u;return p=r[0],i=r[1],u=t.props.width*(i/e),a=o({key:"label",className:"chart-vertical-label"},""+p+" ("+i+")"),s=n({key:"bar",className:"chart-vertical-bar",style:{width:u,height:t.props.lineHeight}},[]),n({key:""+p,className:"chart-vertical-line"},[a,s])}}(this)),n({className:"chart chart-vertical-bars"},t)}})},{"../charts/bar":2,"../charts/chart":3}],12:[function(t,e){var r;r=function(t,e,r){var s,a,n,i,o,p,u;null==e&&(e="localStorage"),null==r&&(r={});try{a=JSON.parse(window[e][t])}catch(c){n=c,a=r}return o=function(){var r,s;return r=null,s=function(){return window[e][t]=JSON.stringify(a)},function(){return window.clearTimeout(r),r=window.setTimeout(s,16)}}(),i=function(){return a},p=function(t,e){return a[t]=e,o()},u=function(t){return a=t,o()},s=function(){return delete window[e][t]},{get:i,set:p,setAll:u,clear:s}},e.exports=window.data={snapshots:r("snapshots","sessionStorage",[]),chartSettings:r("chartSettings","localStorage",{})},e.exports.hasData=e.exports.snapshots.get().length},{}],13:[function(t){/*!
 * # Reporter Visualizer
 *
 * @copyright 2014 Pascal Hertleif
 * @license MIT
 */
var e,r,s,a,n,i,o,p,u,c,h,l,d,y;e=t("react"),y=e.DOM,d=y.section,s=y.aside,i=y.div,o=y.h1,p=y.h2,h=y.p,r=y.a,a=y.code,u=y.img,n=t("./data"),c=e.createClass({displayName:"Layout",getInitialState:function(){return{hasData:!!n.hasData}},gotData:function(){return this.replaceProps({snapshots:n.snapshots.get()}),this.setState({hasData:!0})},clearCache:function(t){return t.preventDefault(),n.snapshots.clear(),window.location.reload()},render:function(){return d({className:"main"},[t("./views/header")({key:"header"}),this.state.hasData?[t("./views/stats")({key:"stats",snapshots:this.props.snapshots,clearCache:this.clearCache}),i({key:"m",id:"content"},[s({key:"a"},[t("./views/toc")({key:"toc",snapshots:this.props.snapshots})]),t("./views/charts")({key:"charts",snapshots:this.props.snapshots})])]:[t("./views/start")({key:"start",gotData:this.gotData})]])}}),(l=function(){return e.renderComponent(c({snapshots:n.snapshots.get()}),document.getElementById("container"))})()},{"./data":12,"./views/charts":17,"./views/header":19,"./views/start":22,"./views/stats":23,"./views/toc":24}],14:[function(t,e,r){var r,s;s=t("lodash"),r=e.exports,r.getAnswersFromResponse=function(t){var e,r;return e=t.answeredOptions||t.tokens,e||(e=t.numericResponse||t.textResponse||(null!=(r=t.locationResponse)?r.text:void 0)),s.isArray(e)||(e=[e]),e},r.getAnswerCount=function(t,e){return null==e&&(e=_.identity),s(t).reduce(function(t,s){var a,n,i,o;for(o=r.getAnswersFromResponse(s),n=0,i=o.length;i>n;n++)a=o[n],e(a)&&(t[a]||(t[a]=0),t[a]+=1);return t},{})},r.getDistribution=function(t,e){return{aspect:e,distribution:r.getAnswerCount(s(t).where({questionPrompt:e}))}},r.getGroupedDistribution=function(t,e,a){return s(t).map(function(t){return{date:t.date,response:s.find(t.responses,{questionPrompt:a})}}).reject(function(t){return!t.date||!t.response}).groupBy(e).pairs().map(function(t){var e,s;return e=t[0],s=t[1],[e,r.getAnswerCount(_.pluck(s,"response"))]}).value()},r.connectionsDistribution=function(t,e){return{aspect:e,distribution:s(t).pluck("connection").map(function(t){return 0===t?"Cell":1===t?"WiFi":"Offline"}).reduce(function(t,e){return t[e]||(t[e]=0),t[e]+=1,t},{})}},r.aggregateWithIndex=function(t,e,r,a){return s(t).reject(function(t){return!r(t)}).groupBy(function(t){return JSON.stringify(e(t))}).pairs().map(function(t){var s,n,i;return i=t[0],n=t[1],s=e(n[0]),n=a(_.map(n,function(t){return r(t)})),_.flatten([s,n])}).value()},r.aggregatePunch=function(t,e,a,n){var i,o;return i=function(t){var e,r,s;return e=_.where(t.responses,{questionPrompt:a}),null!=e?null!=(r=e[0])?null!=(s=r.answeredOptions)?s[0]:void 0:void 0:void 0},o=function(t){return s(t).reduce(function(t,e){return n(e)?t+1:t},0)},r.aggregateWithIndex(t,e,i,o)}},{}],15:[function(t,e){var r,s,a,n,i,o,p,u;o=t("lodash"),r=t("q"),s=t("react"),u=s.DOM,i=u.input,n=u.em,a=t("../data"),p=function(t){var e,s;return e=r.defer(),s=new window.FileReader,s.onload=function(r){var s,a;try{return a=JSON.parse(r.target.result),e.resolve(a)}catch(n){return s=n,s.message="Error parsing "+t.name,e.reject(s)}},s.onerror=function(){return e.reject(new Error("Error reading file "+t.name))},s.onabort=function(){return e.reject(new Error("Aborted reading file "+t.name))},s.readAsText(t),e.promise},e.exports=s.createClass({displayName:"LoadFiles",getInitialState:function(){return{working:!1}},loadFiles:function(t){var e;return t.preventDefault(),e=t.target.files,(null!=e?e.length:void 0)?(this.setState({working:!0}),r.all(o.map(e,p)).then(function(t){return function(e){var r,s;s=o(e).map(function(t){return t.snapshots}).flatten().value();try{return a.hasData=!0,a.snapshots.setAll(s),t.props.gotData()}catch(n){return r=n,console.error(r.stack)}}}(this)).fail(function(t){return window.alert("Failed to load files."),console.error(t)})):console.log("No files")},render:function(){return this.state.working?n({className:"loading"},"Processing files..."):i({type:"file",multiple:!0,onChange:this.loadFiles})}})},{"../data":12,q:"GOrh4h"}],16:[function(t,e){var r,s,a,n,i,o,p,u,c,h,l,d,y,f,g,m;l=t("lodash"),s=t("react"),m=s.DOM,p=m.div,n=m.article,c=m.header,u=m.h2,f=m.p,i=m.button,g=m.select,y=m.option,d=m.label,a=t("./specificCharts"),r=t("./overlay"),o=t("../data"),h=function(t){return/^Punch/.test(t)},e.exports=s.createClass({displayName:"ChartContainer",mixins:[s.addons.LinkedStateMixin],getDefaultProps:function(){},getInitialState:function(){var t,e,r,s,a;return e=/^(Yes|No)$/.test(null!=(r=this.props.sample)?null!=(s=r.answeredOptions)?s[0]:void 0:void 0),t=this.props.chartType?this.props.chartType:e?2===(null!=(a=this.props.sampleSnap)?a.reportImpetus:void 0)?"PunchHourWeekday":"StackedByWeekday":this.props.sample.answeredOptions?"Stacked":"VerticalBars",{chartType:t,punchStyle:this.props.punchStyle,punchChartAble:e,overlay:!1}},handleChartTypeChange:function(){return this.setState({chartType:event.target.value})},toggleOverlay:function(){return this.setState({overlay:!this.state.overlay})},render:function(){var t,e,o;return t=a[this.state.chartType]||a.VerticalBars,e=_(a).keys().reject(function(t){return function(e){return h(e)&&!t.state.punchChartAble}}(this)).map(function(t){return y({key:t,value:t},t)}).value(),o=s.addons.classSet({"chart-container":!0,"double":h(this.state.chartType)||"StackedByWeekday"===this.state.chartType}),p({className:o,id:this.props.id},[r({key:"over",active:this.state.overlay},[n({key:"main",className:"main"},[c({key:"h"},[i({key:"settings",className:"toggle-settings",onClick:this.toggleOverlay},"Settings"),u({key:"heading"},this.props.aspect)]),p({key:"chart",className:"chart-box"},[t(_.defaults({key:"chart",punchStyle:this.state.punchStyle},this.props),[])])]),p({key:"overlay",className:"overlay"},[c({key:"h"},[i({key:"settings",className:"toggle-settings",onClick:this.toggleOverlay},"Done"),u({key:"heading"},this.props.aspect)]),f({key:"settings-1"},[d({key:"label"},["Chart Type ",g({key:"select",valueLink:this.linkState("chartType")},e)])]),h(this.state.chartType)?f({key:"settings-punch"},[d({key:"label"},["Punch Style ",g({key:"select",valueLink:this.linkState("punchStyle")},["dots","bars"].map(function(t){return y({key:t,value:t},t)}))])]):void 0])])])},componentDidUpdate:function(){return o.chartSettings.set(this.props.aspect,{chartType:this.state.chartType,punchStyle:this.state.punchStyle})}})},{"../data":12,"./overlay":20,"./specificCharts":21}],17:[function(t,e){var r,s,a,n,i,o,p,u,c,h;o=t("lodash"),u=t("underscore.string"),a=t("react"),h=a.DOM,c=h.section,p=h.p,s=t("../reporter/distributions"),r=t("./chartSwitch"),i=t("./extraCharts"),n=t("../data"),e.exports=a.createClass({displayName:"ChartsView",getInitialState:function(){return{chartSettings:n.chartSettings.get()}},getChartSettings:function(){var t;return t={},this.charts.forEach(function(e){var r,s;return t[e.props.aspect]={chartType:null!=(r=e.state)?r.chartType:void 0,punchStyle:null!=(s=e.state)?s.punchStyle:void 0}}),t},render:function(){var t,e,s,a;return a=o(this.props.snapshots).pluck("responses").flatten().value(),e=o(a).pluck("questionPrompt").unique().sort().value(),t=e.map(function(t){return function(e){var s,n,i,p,c,h,l,d;for(d=t.props.snapshots,l=d.length-1;l>=0;l+=-1)if(h=d[l],n=o.find(h.responses,{questionPrompt:e})){i=n,p=h;break}return s=t.state.chartSettings[e]||{},c=u.slugify(e),r({key:c,id:c,snapshots:t.props.snapshots,aspect:e,responses:a,sample:i,sampleSnap:p,chartType:s.chartType,punchStyle:s.punchStyle})}}(this)),function(e){return function(){var r,s;return r="What's your internet connection?",s=u.slugify(r),t.push(i.ConnectionChart({key:t.length,id:s,snapshots:e.props.snapshots,aspect:r},[]))}}(this)(),this.charts=t,s=c({className:"charts"},[p({key:"charts-headline",className:"subtitle"},[""+a.length+" Answers"])].concat(t))}})},{"../data":12,"../reporter/distributions":14,"./chartSwitch":16,"./extraCharts":18,"underscore.string":"9MUMIO"}],18:[function(t,e,r){var s,a,n,r,i;i=t("lodash"),n=t("react"),s=t("./chartSwitch"),a=t("../reporter/distributions"),e.exports=r={},r.ConnectionChart=n.createClass({render:function(){var t,e;return t="What's your internet connection?",e=a.connectionsDistribution(this.props.snapshots,t),e.chartType="Stacked",s(e,[])}})},{"../reporter/distributions":14,"./chartSwitch":16}],19:[function(t,e){var r,s,a,n,i,o,p;r=t("react"),p=r.DOM,i=p.header,a=p.div,n=p.h1,s=p.a,o=p.img,e.exports=r.createClass({displayName:"TopBar",render:function(){return i({key:"top-bar",className:"top-bar"},[a({key:"r",className:"right"},[s({key:"flattr",className:"flattr",href:"http://flattr.com/thing/2729835/"},"Flattr this"),s({key:"gh",className:"gh",href:"https://github.com/killercup/report-visualizer"},"Source Code on Github")]),n({key:"title"},"Report Visualizer")])}})},{}],20:[function(t,e){var r,s,a,n;r=t("react"),n=r.DOM,a=n.div,s=n.a,e.exports=r.createClass({displayName:"OverlayContainer",getDefaultProps:function(){return{active:!1}},render:function(){var t;return t=r.addons.classSet({"overlay-container":!0,active:this.props.active}),a({className:t},this.props.children)}})},{}],21:[function(t,e){var r,s,a,n,i,o,p;p=t("lodash"),a=t("react"),r=t("../charts"),s=t("../reporter/distributions"),o=["7 Sun","1 Mon","2 Tue","3 Wed","4 Thu","5 Fri","6 Sat"],i=["Tapped","Sleeping","Day","Dusk","Dawn"],n={},n.Stacked=a.createClass({displayName:"StackedReporterChart",render:function(){var t;return t=this.props.distribution?this.props:p.defaults(s.getDistribution(this.props.responses,this.props.aspect),this.props),r.StackedBar(t,[])}}),n.StackedByWeekday=a.createClass({displayName:"StackedByWeekdayReporterChart",getDefaultProps:function(){return{weekdays:o,grouping:function(t){var e;return e=new Date(t.date),e.getDay()}}},render:function(){var t,e,a,n;return t=p.clone(this.props),n=p.filter(this.props.snapshots,function(t){return p.isString(t.date)}),a={},e=p(this.props.snapshots).pluck("responses").flatten().where({questionPrompt:this.props.aspect}).map(s.getAnswersFromResponse).unique().sort().each(function(t){return a[t]=0}),t.distribution||(t.distribution=s.getGroupedDistribution(n,this.props.grouping,this.props.aspect)),t.distribution=p(t.distribution).map(function(t){var e,r;return r=t[0],e=t[1],[r,p.defaults(e,a)]}).sortBy(function(t){var e,r;return r=t[0],e=t[1],r}).value(),t.xValues||(t.xValues=p.sortBy(this.props.weekdays)),t.width=560,r.StackedBars(t,[])}}),n.VerticalBars=a.createClass({displayName:"VerticalBarsReporterChart",render:function(){var t;return t=this.props.distribution?this.props:p.defaults(s.getDistribution(this.props.responses,this.props.aspect),this.props),r.VerticalBars(t,[])}}),n.PunchImpetusWeekday=a.createClass({displayName:"PunchImpetusWeekdayReporterChart",getDefaultProps:function(){return{weekdays:o,impetues:i,criteria:"Yes",getIndex:function(t){var e;return e=new Date(t.date),[e.getDay(),t.reportImpetus]},entryToLabels:function(t){return function(e){var r,s,a;return s=e[0],a=e[1],r=e[2],[t.props.weekdays[s],t.props.impetues[a],r]}}(this)}},render:function(){var t,e,a,n;return a=this.props.getIndex,t=function(t){return function(e){return e===t.props.criteria}}(this),n=p.filter(this.props.snapshots,function(t){return t.reportImpetus&&p.isString(t.date)}),e=p(s.aggregatePunch(n,a,this.props.aspect,t)).map(this.props.entryToLabels).value(),r.PunchChart(p.defaults({distribution:e,width:560,padding:{l:60,b:30,r:0,t:0}},this.props))}}),n.PunchHourWeekday=a.createClass({displayName:"PunchHourWeekdayReporterChart",getDefaultProps:function(){var t,e;return{weekdays:o,criteria:"Yes",yValues:function(){for(e=[],t=0;23>=t;t++)e.push(t);return e}.apply(this),height:400,punchStyle:"bars",getIndex:function(t){var e;return e=new Date(t.date),[e.getDay(),e.getHours()]},entryToLabels:function(t){return function(e){var r,s,a;return s=e[0],a=e[1],r=e[2],[t.props.weekdays[s],a,r]}}(this)}},render:function(){var t,e,a,n;return a=this.props.getIndex,t=function(t){return function(e){return e===t.props.criteria}}(this),n=p.filter(this.props.snapshots,function(t){return p.isString(t.date)}),e=p(s.aggregatePunch(n,a,this.props.aspect,t)).map(this.props.entryToLabels).value(),r.PunchChart(p.defaults({distribution:e,width:600,padding:{l:40,b:30,r:0,t:0}},this.props))}}),e.exports=n},{"../charts":5,"../reporter/distributions":14}],22:[function(t,e){var r,s,a,n,i,o,p,u;s=t("react"),u=s.DOM,i=u.div,o=u.h2,p=u.p,a=u.a,n=u.code,r=t("../reporter/loadFiles"),e.exports=s.createClass({displayName:"StartView",render:function(){return i({className:"box text-box load-files"},[o({key:"headline"},"Display your reports"),p({key:"info"},["This tool can display the data exported by ",a({key:"rep",href:"http://www.reporter-app.com/"},"Reporter App")," in your browser."]),p({key:"help"},["Just select all the files Reporter saved to your Dropbox. They are probably\nin a folder called ",n({key:"code"},"~/Dropbox/Apps/Reporter-App"),"."]),p({key:"server-info"},"Your data will not be uploaded to any server, it will only be\nstored and processed by the browser you are currently using."),window.FileReader?p({key:"input",className:"upload-area"},[r({key:"loadFiles",gotData:this.props.gotData})]):p({key:"input",className:"no-chance"},["Looks like your browser doesn't support reading files directly. ","That's a shame. Maybe you can update it."])])}})},{"../reporter/loadFiles":15}],23:[function(t,e){var r,s,a,n,i,o;i=t("lodash"),r=t("react"),o=r.DOM,a=o.aside,n=o.p,s=o.a,e.exports=r.createClass({displayName:"StatsView",render:function(){var t,e;return t=i(this.props.snapshots).map(function(t){return i.isString(t.date)?t.date.replace(/T(.*)$/,""):null}).reject(i.isNull).unique().value(),e=t.sort()[0],a({key:"meta",className:"box meta",id:this.props.id},[n({key:"meta-p"},[""+this.props.snapshots.length+" snapshots covering "+t.length+" days loaded. ","Your first report was on "+e+". ",s({key:"clearCache",href:"#clear",onClick:this.props.clearCache},"Load new data")])])}})},{}],24:[function(t,e){var r,s,a,n,i,o,p;a=t("lodash"),o=t("underscore.string"),r=t("react"),p=r.DOM,n=p.nav,s=p.a,i=p.p,e.exports=r.createClass({displayName:"TOCView",render:function(){var t;return t=a(this.props.snapshots).pluck("responses").flatten().pluck("questionPrompt").unique().sort().value(),n({className:"toc"},[i({key:"h",className:"subtitle"},""+t.length+" Questions"),t.map(function(t){var e;return e=o.slugify(t),s({key:e,href:"#"+e},t)})])}})},{"underscore.string":"9MUMIO"}]},{},[13]);